# SumBot iOS快捷指令开发指南

本指南将帮助你创建一个iOS快捷指令来使用SumBot的URL总结功能。

## 功能概述

通过iOS快捷指令，你可以快速调用SumBot的API来总结任何网页内容。主要功能包括：
- 从分享菜单中直接发送URL到SumBot
- 获取文章总结
- 查看相关标签
- 支持自定义标签

## 创建步骤

### 1. 基础设置
1. 打开iOS快捷指令应用
2. 点击右上角"+"号创建新的快捷指令
3. 点击"添加操作"

### 2. 获取URL
对于从分享菜单调用的情况：
1. 添加"接收快捷指令输入"操作
2. 设置接收类型为"URL"

### 3. 配置API请求
1. 添加"获取内容从URL"操作
2. 设置以下参数：
   - URL: `http://你的服务器地址:5566/api/v1/summarize/url`
   - 方法: POST
   - 请求头:
     ```
     Content-Type: application/json
     ```
   - 请求体:
     ```json
     {
         "url": "快捷指令输入的URL"
     }
     ```

注意：
- `url` 字段必须是有效的完整URL地址（包含 http:// 或 https:// 前缀）
- URL必须是可以公网访问的网址

### 4. 处理响应
1. 添加"获取词典值"操作
2. 从API响应中提取summary字段
3. 添加"显示结果"操作来展示总结内容

## 使用示例

1. 在浏览器中浏览文章时
2. 点击分享按钮
3. 选择你创建的SumBot快捷指令
4. 等待几秒钟
5. 查看生成的文章总结

## 完整快捷指令示例

你可以直接导入这个示例快捷指令：[下载链接]

快捷指令包含以下主要步骤：
```text
1. 接收URL输入
2. 发送POST请求到SumBot API
3. 解析JSON响应
4. 显示总结结果
```

## 高级配置

### 自定义标签
你可以在快捷指令中添加"列表"操作来选择预设标签：
1. 添加"选择列表"操作
2. 预设常用标签如：技术、新闻、学习等
3. 将选择的标签加入到API请求中

### 错误处理
添加条件判断来处理可能的错误：
1. 检查URL是否有效
2. 检查网络连接
3. 检查API响应状态

## 注意事项

1. 确保SumBot服务器地址可以正常访问
2. 建议在WiFi环境下使用
3. 对于较长的文章，总结可能需要更多时间
4. 注意API调用频率限制

## 常见问题

1. Q: 为什么获取总结失败？
   A: 检查网络连接和服务器地址是否正确

2. Q: 如何自定义输出格式？
   A: 可以通过"文本"操作组合API返回的不同字段

3. Q: 支持批量处理URL吗？
   A: 目前快捷指令版本仅支持单个URL处理

## 技术支持

如果你在使用过程中遇到问题，可以：
1. 查看服务器日志
2. 检查API文档
3. 提交Issue到项目仓库 